# Prescriptive Process Monitoring

This repository contains all the scripts required to reproduce the experiments from the paper:
"Fire Now, Fire Later: Alarm-Based Systems for Prescriptive Process Monitoring" by Stephan A. Fahrenkrog-Petersen, Niek Tax, Irene Teinemaa, Marlon,Dumas, Massimiliano de Leoni, Fabrizio Maria Maggi, and Matthias Weidlich.

The code is written in Python 3. 

A lot of the code in this repository was based on code from Irene Teinemaa and Niek Tax, available here:
https://github.com/TaXxER/AlarmBasedProcessPrediction


## Predictive Process Monitoring Scripts

The foundations of a prescriptive process monitoring systems are the predictions made by a predictive process monitoring systems. To get these results, we apply a two-step approach. First, we use hyperparameter optimization to ensure high quality results, this can be done with different scripts, depending on the choosen machine learning algorithm:

```
python optimize_params_<classifier>.py <dataset_name> <output_dir>
```

For the parameters the following applies:

- dataset_name - the name of the dataset, should correspond to the settings specified in dataset_confs.py
- output_dir - the name of the directory where the optimal parameters will be written


In a next step the results of the predictive process monitoring scripts are generated:
```
python write_<classifier>_predictions.py <dataset_name> <optimal_params_file> <output_dir>
```

- dataset_name - the name of the dataset, should correspond to the settings specified in dataset_confs.py
- optimal_params_file - the file where the optimized hyperparameter values can be found (from last step)
- output_dir - the name of the directory where the final predictions will be written


## Prescriptive Process Monitoring Scripts
With the results of the predictive process monitoring script, we can try several prescriptive process monitoring systems. This is also split up into two steps. One step training the mechanism and another step generating the results from the mechnaism. 

### Single Mechanism Prescriptive Process Monitoring Systems
- optimize_threshold.py - Is the basic thresholding system, with one threshold for the probability. This scriptes is the script to train the system, with test_optimized_threshold.py being the corresponding script to generate the results
- optimize_fire_delay.py - Is the thresholding system using a probability threshold and a fire delay threshold. This scriptes is the script to train the system, with test_fire_delay.py being the corresponding script to generate the results


### Hierarchical Thresholding based Prescriptive Process Monitoring Systems

##  Data Management Scripts

Some scripte in this repository were used to manage the generated by the experiments in the project. These include:
- rewrite_method.py - Can be used to change the name of the prescriptive process monitoring "mechanism" used to generate a certain result file


## R-Scripts

The R-scripts in this repository were used to generate the respective figures in the paper. They used the results generated by the approach implemented within the Python scripts.
